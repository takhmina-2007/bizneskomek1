<!DOCTYPE html>
<html lang="kk">
<head>
  <meta charset="UTF-8">
  <title data-i18n="bplan_title">–ë–∏–∑–Ω–µ—Å-–∂–æ—Å–ø–∞—Ä –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <style>
    .form-section {
      margin-top: 2rem;
    }
    input, textarea {
      width: 100%;
      margin-bottom: 1rem;
      padding: 0.5rem;
    }
    #result {
      margin-top: 2rem;
      background: #fff;
      padding: 1rem;
      border-radius: 6px;
      border: 1px solid #ccc;
    }
    #downloadBtn {
      display: none;
      margin-top: 1rem;
    }
  </style>
</head>
<body>
  <button onclick="switchLanguage()">KZ / RU</button>

  <h1 data-i18n="bplan_title">üßæ –ë–∏–∑–Ω–µ—Å-–∂–æ—Å–ø–∞—Ä –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã</h1>

  <div class="form-section">
    <label>–ö”ô—Å—ñ–ø —Ç“Ø—Ä—ñ:</label>
    <input type="text" id="biz_type" placeholder="–ú—ã—Å–∞–ª—ã: –ö–æ—Ñ–µ—Ö–∞–Ω–∞">

    <label>–ë–∞—Å—Ç–∞–ø“õ—ã –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è (—Ç–≥):</label>
    <input type="number" id="investment">

    <label>–ê–π —Å–∞–π—ã–Ω“ì—ã —à—ã“ì—ã–Ω (—Ç–≥):</label>
    <input type="number" id="cost">

    <label>–ê–π —Å–∞–π—ã–Ω“ì—ã —Ç–∞–±—ã—Å (—Ç–≥):</label>
    <input type="number" id="income">

    <label>”®–Ω—ñ–º / “ö—ã–∑–º–µ—Ç —Å–∏–ø–∞—Ç—Ç–∞–º–∞—Å—ã:</label>
    <textarea id="description"></textarea>

    <label>–°–∞—Ç—É –∞—Ä–Ω–∞—Å—ã:</label>
    <input type="text" id="channel" placeholder="Instagram, —Å–∞–π—Ç, –±–∞–∑–∞—Ä —Ç.–±.">

    <label>–ù–µ–≥—ñ–∑–≥—ñ —Ç”ô—É–µ–∫–µ–ª–¥–µ—Ä –º–µ–Ω —à–µ—à—ñ–º –∂–æ–ª–¥–∞—Ä—ã:</label>
    <textarea id="risk"></textarea>

    <button onclick="generatePlan()">üìù –ñ–æ—Å–ø–∞—Ä–¥—ã “õ“±—Ä—É</button>
  </div>

  <div id="result"></div>
  <button id="downloadBtn" onclick="downloadPDF()">üì• PDF —Ä–µ—Ç—ñ–Ω–¥–µ –∂“Ø–∫—Ç–µ—É</button>

  <script src="script.js"></script>
  <script>
    function generatePlan() {
      const biz = document.getElementById('biz_type').value;
      const inv = document.getElementById('investment').value;
      const cost = document.getElementById('cost').value;
      const income = document.getElementById('income').value;
      const desc = document.getElementById('description').value;
      const chan = document.getElementById('channel').value;
      const risk = document.getElementById('risk').value;

      const profit = income - cost;

      const planHTML = `
      <h2>üìå –ñ–æ—Å–ø–∞—Ä: ${biz}</h2>
      <p><strong>–°–∏–ø–∞—Ç—Ç–∞–º–∞:</strong> ${desc}</p>
      <p><strong>–ë–∞—Å—Ç–∞–ø“õ—ã –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è:</strong> ${inv} —Ç–≥</p>
      <p><strong>–ê–π —Å–∞–π—ã–Ω“ì—ã —à—ã“ì—ã–Ω:</strong> ${cost} —Ç–≥</p>
      <p><strong>–ê–π —Å–∞–π—ã–Ω“ì—ã —Ç–∞–±—ã—Å:</strong> ${income} —Ç–≥</p>
      <p><strong>–¢–∞–∑–∞ –ø–∞–π–¥–∞:</strong> ${profit} —Ç–≥</p>
      <p><strong>–°–∞—Ç—É –∞—Ä–Ω–∞—Å—ã:</strong> ${chan}</p>
      <p><strong>–¢”ô—É–µ–∫–µ–ª–¥–µ—Ä:</strong> ${risk}</p>
      `;

      document.getElementById('result').innerHTML = planHTML;
      document.getElementById('downloadBtn').style.display = 'inline-block';
    }

    async function downloadPDF() {
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF();

      const biz = document.getElementById('biz_type').value;
      const inv = document.getElementById('investment').value;
      const cost = document.getElementById('cost').value;
      const income = document.getElementById('income').value;
      const desc = document.getElementById('description').value;
      const chan = document.getElementById('channel').value;
      const risk = document.getElementById('risk').value;

      const profit = income - cost;

      let y = 10;
      doc.setFontSize(14);
      doc.text(`–ë–∏–∑–Ω–µ—Å-–∂–æ—Å–ø–∞—Ä: ${biz}`, 10, y); y += 10;
      doc.setFontSize(12);
      doc.text(`–°–∏–ø–∞—Ç—Ç–∞–º–∞: ${desc}`, 10, y); y += 10;
      doc.text(`–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏—è: ${inv} —Ç–≥`, 10, y); y += 10;
      doc.text(`–®—ã“ì—ã–Ω: ${cost} —Ç–≥`, 10, y); y += 10;
      doc.text(`–¢–∞–±—ã—Å: ${income} —Ç–≥`, 10, y); y += 10;
      doc.text(`–¢–∞–∑–∞ –ø–∞–π–¥–∞: ${profit} —Ç–≥`, 10, y); y += 10;
      doc.text(`–°–∞—Ç—É –∞—Ä–Ω–∞—Å—ã: ${chan}`, 10, y); y += 10;
      doc.text(`–¢”ô—É–µ–∫–µ–ª–¥–µ—Ä: ${risk}`, 10, y);

      doc.save("biznes-zhospar.pdf");
    }
  </script>
</body>
</html>
